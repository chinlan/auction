<% unless current_user.my_favorites.exists?(favorable_type: favorable.model_name.to_s, favorable_id: favorable.id) %>
  <%= link_to "Add to favorite #{favorable.model_name}", favorites_path(favorable_id: favorable.id, favorable_type: "#{favorable.model_name}"), remote: true, method: :post, id: "fav_btn_#{favorable.model_name}_#{favorable.id}" %>
<% else %>
  <%= link_to "Remove from favorite #{favorable.model_name}", favorite_path(id: favorable.favorites.where(user_id: current_user.id).take.id, favorable_id: favorable.id, favorable_type: "#{favorable.model_name}"), remote: true, method: :delete, id: "fav_btn_#{favorable.model_name}_#{favorable.id}" %>
<% end %>
